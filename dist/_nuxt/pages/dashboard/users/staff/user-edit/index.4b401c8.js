(this.webpackJsonp=this.webpackJsonp||[]).push([[52],{1176:function(t,l,e){"use strict";e.r(l);e(25);var o=e(137),c=e.n(o),n=e(593),d={components:{vSelect:c.a,imageUpload:n.a},props:{data:{type:Object,required:!0}},data:function(){return{data_local:JSON.parse(JSON.stringify(this.data)),statusOptions:["Active","Blocked","Deactivated"],roleOptions:["User","Staff","Admin"]}},computed:{activeBusinessInfo:function(){return this.$store.state.business.app_active_business},user_data:function(){return this.$store.state.user.app_displayed_user},uploaded_images:function(){return this.$store.state.form.uploaded_images},communicationOptions:function(){return this.activeBusinessInfo.push_notes},groupBranches:function(){return this.activeBusinessInfo.branches},groupPositions:function(){return this.activeBusinessInfo.positions}},watch:{uploaded_images:function(){if(this.uploaded_images){var t=this;this.$fireStore.collection("apps").doc("users").collection(this.activeBusinessInfo.b_uid).doc("info").collection("general").doc(t.user_data.uid).update({photoURL:this.uploaded_images[0]}).then((function(){t.successUpload("url")}))}}},methods:{successUpload:function(t){this.$vs.notify({color:"success",title:"Upload Success",text:"Whoop whoop, been uploaded"});var l,e,o,c=this.user_data;l=null==this.data_local.position?"":this.data_local.position,e=null==this.data_local.branch?"":this.data_local.branch,o=null==this.data_local.permissions?"":this.data_local.permissions,"url"===t?c.photoURL=this.uploaded_images[0]:(c.display_name=this.data_local.display_name,c.email=this.data_local.email,c.name=this.data_local.name,c.surname=this.data_local.surname,c.company=this.data_local.company,c.photoURL=this.data_local.photoURL,c.role=this.data_local.role,c.branch=e,c.position=l,c.status=this.data_local.status,c.permissions=o,c.push_notes=this.data_local.push_notes),this.$store.commit("user/APP_DISPLAYED_USER",c)},save_changes:function(){var t,l,e,o=this;t=null==this.data_local.position?"":this.data_local.position,l=null==this.data_local.branch?"":this.data_local.branch,e=null==this.data_local.permissions?"":this.data_local.permissions,this.$fireStore.collection("apps").doc("users").collection(this.activeBusinessInfo.b_uid).doc("info").collection("general").doc(this.user_data.uid).update({display_name:this.data_local.display_name,email:this.data_local.email,name:this.data_local.name,surname:this.data_local.surname,company:this.data_local.company,photoURL:this.data_local.photoURL,role:this.data_local.role,branch:l,position:t,status:this.data_local.status,permissions:e,push_notes:this.data_local.push_notes}).then((function(){o.successUpload()}))}}},r=e(7),_=Object(r.a)(d,(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{attrs:{id:"user-edit-tab-info"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col"},[e("div",{staticClass:"flex flex-col items-start sm:flex-row"},[e("img",{staticClass:"w-24 h-24 mr-8 rounded",attrs:{src:t.data.photoURL}}),t._v(" "),e("div",[e("p",{staticClass:"mt-4 mb-2 text-lg font-medium sm:mt-0"},[t._v("\n            "+t._s(t.data.name)+" "+t._s(t.data.surname)+"\n          ")]),t._v(" "),e("div",[e("imageUpload",{staticClass:"mb-2 mr-4 sm:mb-0",attrs:{label:"Profile Image"}}),t._v(" "),e("p",{staticClass:"mt-2 text-sm"},[t._v("\n              Allowed JPG, GIF or PNG. Max size of 800kB\n            ")])],1)])])])]),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col md:w-1/2"},[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Username",name:"username"},model:{value:t.data_local.display_name,callback:function(l){t.$set(t.data_local,"display_name",l)},expression:"data_local.display_name"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Name",name:"name"},model:{value:t.data_local.name,callback:function(l){t.$set(t.data_local,"name",l)},expression:"data_local.name"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Surname",name:"surname"},model:{value:t.data_local.surname,callback:function(l){t.$set(t.data_local,"surname",l)},expression:"data_local.surname"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Email",type:"email",name:"email"},model:{value:t.data_local.email,callback:function(l){t.$set(t.data_local,"email",l)},expression:"data_local.email"}})],1),t._v(" "),e("div",{staticClass:"w-full vx-col md:w-1/2"},[e("div",{staticClass:"mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v("Status")]),t._v(" "),e("v-select",{attrs:{clearable:!1,options:t.statusOptions,name:"status",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.data_local.status,callback:function(l){t.$set(t.data_local,"status",l)},expression:"data_local.status"}})],1),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v("Role")]),t._v(" "),e("v-select",{attrs:{clearable:!1,options:t.roleOptions,name:"role",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.data_local.role,callback:function(l){t.$set(t.data_local,"role",l)},expression:"data_local.role"}})],1),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v("Communication")]),t._v(" "),e("v-select",{attrs:{clearable:!1,options:t.communicationOptions,multiple:"",name:"role",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.data_local.push_notes,callback:function(l){t.$set(t.data_local,"push_notes",l)},expression:"data_local.push_notes"}})],1),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v("Position")]),t._v(" "),e("v-select",{attrs:{clearable:!1,options:t.groupPositions,name:"positions",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.data_local.position,callback:function(l){t.$set(t.data_local,"position",l)},expression:"data_local.position"}})],1),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v("Branch")]),t._v(" "),e("v-select",{attrs:{clearable:!1,options:t.groupBranches,name:"branch",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.data_local.branch,callback:function(l){t.$set(t.data_local,"branch",l)},expression:"data_local.branch"}})],1),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Company",name:"company"},model:{value:t.data_local.company,callback:function(l){t.$set(t.data_local,"company",l)},expression:"data_local.company"}})],1)]),t._v(" "),e("vx-card",{staticClass:"mt-base",attrs:{"no-shadow":"","card-border":""}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col"},[e("div",{staticClass:"flex items-end px-3"},[e("feather-icon",{staticClass:"mr-2",attrs:{svgClasses:"w-6 h-6",icon:"LockIcon"}}),t._v(" "),e("span",{staticClass:"text-lg font-medium leading-none"},[t._v("Permissions")])],1),t._v(" "),e("vs-divider")],1)]),t._v(" "),e("div",{staticClass:"block overflow-x-auto"},[e("table",{staticClass:"w-full"},[e("tr",t._l(["Module","Read","Write","Create","Delete"],(function(l){return e("th",{key:l,staticClass:"px-3 py-2 text-base font-semibold text-left"},[t._v("\n            "+t._s(l)+"\n          ")])})),0),t._v(" "),t._l(t.data_local.permissions,(function(l,o){return e("tr",{key:o},[e("td",{staticClass:"px-3 py-2"},[t._v(t._s(o))]),t._v(" "),t._l(l,(function(o,c){return e("td",{key:c+o,staticClass:"px-3 py-2"},[e("vs-checkbox",{model:{value:l[c],callback:function(e){t.$set(l,c,e)},expression:"val[name]"}})],1)}))],2)}))],2)])]),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col"},[e("div",{staticClass:"flex flex-wrap items-center justify-end mt-8"},[e("vs-button",{staticClass:"mt-2 ml-auto",on:{click:t.save_changes}},[t._v("Save Changes")])],1)])])],1)}),[],!1,null,null,null).exports,v=e(612),m=e.n(v),h=(e(613),{components:{vSelect:c.a,flatPickr:m.a},props:{data:{type:Object,required:!0}},data:function(){return{data_local:JSON.parse(JSON.stringify(this.data)),langOptions:[{label:"English",value:"english"},{label:"Spanish",value:"spanish"},{label:"French",value:"french"},{label:"Russian",value:"russian"},{label:"German",value:"german"},{label:"Arabic",value:"arabic"},{label:"Sanskrit",value:"sanskrit"}]}},computed:{activeBusinessInfo:function(){return this.$store.state.business.app_active_business},user_data:function(){return this.$store.state.user.app_displayed_user}},methods:{successUpload:function(){this.$vs.notify({color:"success",title:"Upload Success",text:"Whoop whoop, been uploaded"});var t=this.user_data;t.dob=this.data_local.dob,t.languages_known=this.data_local.languages_known,t.mobile=this.data_local.mobile,t.website=this.data_local.website,t.gender=this.data_local.gender,t.contact_options=this.data_local.contact_options,t.add_line_1=this.data_local.add_line_1,t.add_line_2=this.data_local.add_line_2,t.post_code=this.data_local.post_code,t.city=this.data_local.city,t.state=this.data_local.state,t.country=this.data_local.country,this.$store.commit("user/APP_DISPLAYED_USER",t)},save_changes:function(){var t=this;this.$fireStore.collection("apps").doc("users").collection(this.activeBusinessInfo.b_uid).doc("info").collection("info").doc(this.user_data.uid).update({dob:this.data_local.dob,languages_known:this.data_local.languages_known,mobile:this.data_local.mobile,website:this.data_local.website,gender:this.data_local.gender,contact_options:this.data_local.contact_options,add_line_1:this.data_local.add_line_1,add_line_2:this.data_local.add_line_2,post_code:this.data_local.post_code,city:this.data_local.city,state:this.data_local.state,country:this.data_local.country}).then((function(){t.successUpload()}))}}}),f=Object(r.a)(h,(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{attrs:{id:"user-edit-tab-info"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col md:w-1/2"},[e("div",{staticClass:"flex items-end"},[e("feather-icon",{staticClass:"mr-2",attrs:{icon:"UserIcon",svgClasses:"w-5 h-5"}}),t._v(" "),e("span",{staticClass:"font-medium leading-none"},[t._v("Personal Information")])],1),t._v(" "),e("div",[e("div",{staticClass:"mt-4"},[e("label",{staticClass:"text-sm"},[t._v("Birth Date")]),t._v(" "),e("flat-pickr",{staticClass:"w-full",attrs:{config:{dateFormat:"d F Y",maxDate:new Date},name:"dob"},model:{value:t.data_local.dob,callback:function(l){t.$set(t.data_local,"dob",l)},expression:"data_local.dob"}})],1),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Mobile",name:"mobile"},model:{value:t.data_local.mobile,callback:function(l){t.$set(t.data_local,"mobile",l)},expression:"data_local.mobile"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Website",name:"website","data-vv-as":"field"},model:{value:t.data_local.website,callback:function(l){t.$set(t.data_local,"website",l)},expression:"data_local.website"}}),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"text-sm"},[t._v("Languages")]),t._v(" "),e("v-select",{attrs:{multiple:"",closeOnSelect:!1,options:t.langOptions,name:"lang_known",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.data_local.languages_known,callback:function(l){t.$set(t.data_local,"languages_known",l)},expression:"data_local.languages_known"}})],1),t._v(" "),e("div",{staticClass:"mt-4"},[e("label",{staticClass:"text-sm"},[t._v("Gender")]),t._v(" "),e("div",{staticClass:"mt-2"},[e("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"male"},model:{value:t.data_local.gender,callback:function(l){t.$set(t.data_local,"gender",l)},expression:"data_local.gender"}},[t._v("Male")]),t._v(" "),e("vs-radio",{staticClass:"mr-4",attrs:{"vs-value":"female"},model:{value:t.data_local.gender,callback:function(l){t.$set(t.data_local,"gender",l)},expression:"data_local.gender"}},[t._v("Female")]),t._v(" "),e("vs-radio",{attrs:{"vs-value":"other"},model:{value:t.data_local.gender,callback:function(l){t.$set(t.data_local,"gender",l)},expression:"data_local.gender"}},[t._v("Other")])],1)]),t._v(" "),e("div",{staticClass:"mt-6"},[e("label",[t._v("Contact Options")]),t._v(" "),e("div",{staticClass:"flex flex-wrap mt-1"},[e("vs-checkbox",{staticClass:"mb-2 mr-4",attrs:{"vs-value":"email"},model:{value:t.data_local.contact_options,callback:function(l){t.$set(t.data_local,"contact_options",l)},expression:"data_local.contact_options"}},[t._v("Email")]),t._v(" "),e("vs-checkbox",{staticClass:"mb-2 mr-4",attrs:{"vs-value":"message"},model:{value:t.data_local.contact_options,callback:function(l){t.$set(t.data_local,"contact_options",l)},expression:"data_local.contact_options"}},[t._v("Message")]),t._v(" "),e("vs-checkbox",{staticClass:"mb-2 ",attrs:{"vs-value":"phone"},model:{value:t.data_local.contact_options,callback:function(l){t.$set(t.data_local,"contact_options",l)},expression:"data_local.contact_options"}},[t._v("Phone")])],1)])],1)]),t._v(" "),e("div",{staticClass:"w-full vx-col md:w-1/2"},[e("div",{staticClass:"flex items-end md:mt-0 mt-base"},[e("feather-icon",{staticClass:"mr-2",attrs:{icon:"MapPinIcon",svgClasses:"w-5 h-5"}}),t._v(" "),e("span",{staticClass:"font-medium leading-none"},[t._v("Address")])],1),t._v(" "),e("div",[e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address Line 1",name:"addd_line_1"},model:{value:t.data_local.add_line_1,callback:function(l){t.$set(t.data_local,"add_line_1",l)},expression:"data_local.add_line_1"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Address Line 2"},model:{value:t.data_local.add_line_2,callback:function(l){t.$set(t.data_local,"add_line_2",l)},expression:"data_local.add_line_2"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Post Code",name:"post_code"},model:{value:t.data_local.post_code,callback:function(l){t.$set(t.data_local,"post_code",l)},expression:"data_local.post_code"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"City",name:"city"},model:{value:t.data_local.city,callback:function(l){t.$set(t.data_local,"city",l)},expression:"data_local.city"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"State",name:"state"},model:{value:t.data_local.state,callback:function(l){t.$set(t.data_local,"state",l)},expression:"data_local.state"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{label:"Country",name:"country"},model:{value:t.data_local.country,callback:function(l){t.$set(t.data_local,"country",l)},expression:"data_local.country"}})],1)])]),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col"},[e("div",{staticClass:"flex flex-wrap items-center justify-end mt-8"},[e("vs-button",{staticClass:"mt-2 ml-auto",on:{click:t.save_changes}},[t._v("Save Changes")])],1)])])])}),[],!1,null,null,null).exports,C={props:{data:{type:Object,required:!0}},data:function(){return{data_local:JSON.parse(JSON.stringify(this.data))}},computed:{activeBusinessInfo:function(){return this.$store.state.business.app_active_business},user_data:function(){return this.$store.state.user.app_displayed_user}},methods:{successUpload:function(){this.$vs.notify({color:"success",title:"Upload Success",text:"Whoop whoop, been uploaded"});var t=this.user_data;t.facebook=this.data_local.facebook,t.github=this.data_local.github,t.instagram=this.data_local.instagram,t.linkedin=this.data_local.linkedin,t.slack=this.data_local.slack,t.twitter=this.data_local.twitter,t.codepen=this.data_local.codepen,this.$store.commit("user/APP_DISPLAYED_USER",t)},save_changes:function(){var t=this;this.$fireStore.collection("apps").doc("users").collection(this.activeBusinessInfo.b_uid).doc("info").collection("social_links").doc(this.user_data.uid).update({facebook:this.data_local.facebook,github:this.data_local.github,instagram:this.data_local.instagram,linkedin:this.data_local.linkedin,slack:this.data_local.slack,twitter:this.data_local.twitter,codepen:this.data_local.codepen}).then((function(){t.successUpload()}))}}},k={components:{UserEditTabAccount:_,UserEditTabInformation:f,UserEditTabSocial:Object(r.a)(C,(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{attrs:{id:"user-edit-tab-info"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col md:w-1/2"},[e("vs-input",{staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-twitter",label:"Twitter","icon-no-border":"",name:"twitter"},model:{value:t.data_local.twitter,callback:function(l){t.$set(t.data_local,"twitter",l)},expression:"data_local.twitter"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-facebook",label:"Facebook","icon-no-border":"",name:"facebook"},model:{value:t.data_local.facebook,callback:function(l){t.$set(t.data_local,"facebook",l)},expression:"data_local.facebook"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-instagram",label:"Instagram","icon-no-border":"",name:"instagram"},model:{value:t.data_local.instagram,callback:function(l){t.$set(t.data_local,"instagram",l)},expression:"data_local.instagram"}})],1),t._v(" "),e("div",{staticClass:"w-full vx-col md:w-1/2"},[e("vs-input",{staticClass:"w-full mt-4 md:mt-0",attrs:{"icon-pack":"feather",icon:"icon-github",label:"GitHub","icon-no-border":"",name:"github"},model:{value:t.data_local.github,callback:function(l){t.$set(t.data_local,"github",l)},expression:"data_local.github"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-codepen",label:"CodePen","icon-no-border":"",name:"codepen"},model:{value:t.data_local.codepen,callback:function(l){t.$set(t.data_local,"codepen",l)},expression:"data_local.codepen"}}),t._v(" "),e("vs-input",{staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-slack",label:"Slack","icon-no-border":"",name:"slack"},model:{value:t.data_local.slack,callback:function(l){t.$set(t.data_local,"slack",l)},expression:"data_local.slack"}})],1)]),t._v(" "),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"w-full vx-col"},[e("div",{staticClass:"flex flex-wrap items-center justify-end mt-8"},[e("vs-button",{staticClass:"mt-2 ml-auto",on:{click:t.save_changes}},[t._v("Save Changes")])],1)])])])}),[],!1,null,null,null).exports},data:function(){return{user_not_found:!1,activeTab:0}},watch:{},computed:{user_data:function(){return this.$store.state.user.app_displayed_user}}},x=Object(r.a)(k,(function(){var t=this,l=t.$createElement,e=t._self._c||l;return e("div",{attrs:{id:"page-user-edit"}},[e("vs-alert",{attrs:{color:"danger",title:"User Not Found",active:t.user_not_found},on:{"update:active":function(l){t.user_not_found=l}}},[e("span",[t._v("User record with id: "+t._s(t.$route.params.userId)+" not found. ")]),t._v(" "),e("span",[e("span",[t._v("Check ")]),e("router-link",{staticClass:"underline text-inherit",attrs:{to:{name:"page-user-list"}}},[t._v("All Users")])],1)]),t._v(" "),t.user_data?e("vx-card",{staticClass:"mt-12"},[e("div",{staticClass:"px-6 pt-6 tabs-container",attrs:{slot:"no-body"},slot:"no-body"},[e("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner",model:{value:t.activeTab,callback:function(l){t.activeTab=l},expression:"activeTab"}},[e("vs-tab",{attrs:{label:"Account","icon-pack":"feather",icon:"icon-user"}},[e("div",{staticClass:"tab-text"},[e("user-edit-tab-account",{staticClass:"mt-4",attrs:{data:t.user_data}})],1)]),t._v(" "),e("vs-tab",{attrs:{label:"Information","icon-pack":"feather",icon:"icon-info"}},[e("div",{staticClass:"tab-text"},[e("user-edit-tab-information",{staticClass:"mt-4",attrs:{data:t.user_data}})],1)]),t._v(" "),e("vs-tab",{attrs:{label:"Social","icon-pack":"feather",icon:"icon-share-2"}},[e("div",{staticClass:"tab-text"},[e("user-edit-tab-social",{staticClass:"mt-4",attrs:{data:t.user_data}})],1)]),t._v(" "),e("vs-tab",{attrs:{label:"Work","icon-pack":"feather",icon:"icon-work"}},[e("div",{staticClass:"tab-text"},[e("user-edit-tab-work",{staticClass:"mt-4",attrs:{data:t.user_data}})],1)])],1)],1)]):t._e()],1)}),[],!1,null,null,null);l.default=x.exports}}]);